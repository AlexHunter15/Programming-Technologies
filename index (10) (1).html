<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Информационная Система</title>
    <style>
        /* Стили оставлены без изменений из предыдущего примера */
        /* Сброс стилей */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: Arial, sans-serif;
            line-height: 1.6;
            color: #333;
        }

        header, footer {
            background-color: #333;
            color: #fff;
            padding: 10px;
            text-align: center;
        }

        header h1, footer p {
            margin: 0;
        }

        nav ul {
            list-style: none;
            padding: 0;
        }

        nav ul li {
            display: inline;
            margin-right: 10px;
        }

        nav ul li a {
            color: #fff;
            text-decoration: none;
        }

        main {
            padding: 20px;
        }

        h2 {
            color: #5a67d8;
            margin-bottom: 10px;
        }

        form label {
            display: block;
            margin-bottom: 5px;
        }

        form input, form select {
            width: 100%;
            padding: 8px;
            margin-bottom: 10px;
            border: 1px solid #ddd;
            border-radius: 4px;
        }

        form button {
            background-color: #5a67d8;
            color: #fff;
            border: none;
            padding: 10px;
            cursor: pointer;
            border-radius: 4px;
        }

        form button:hover {
            background-color: #4c51bf;
        }

        .hint {
            font-size: 0.9em;
            color: #666;
        }

        footer p {
            font-size: 0.9em;
        }
    </style>
</head>
<body>
    <header>
        <h1>Информационная система для управления объектами недвижимости</h1>
        <nav>
            <ul>
                <li><a href="#home">Главная</a></li>
                <li><a href="#add-info">Добавить информацию</a></li>
                <li><a href="#edit-info">Редактировать информацию</a></li>
                <li><a href="#delete-info">Удалить информацию</a></li>
                <li><a href="#search-info">Поиск информации</a></li>
            </ul>
        </nav>
    </header>

    <main>
        <section id="home">
            <h2>Добро пожаловать!</h2>
        </section>

        <section id="add-info" style="display:none;">
            <h2>Добавить помещение</h2>
            <form id="add-form">
                <label for="title">Название:</label>
                <input type="text" id="title" required>
                <label for="location">Местоположение:</label>
                <input type="text" id="location" required>
                <label for="area">Площадь:</label>
                <input type="number" id="area" required>
                <button type="submit">Добавить</button>
            </form>
        </section>

        <section id="edit-info" style="display:none;">
            <h2>Редактировать помещение</h2>
            <form id="edit-form">
                <label for="edit-id">ID:</label>
                <input type="number" id="edit-id" required>
                <label for="new-title">Название:</label>
                <input type="text" id="new-title">
                <label for="new-location">Местоположение:</label>
                <input type="text" id="new-location">
                <label for="new-area">Площадь:</label>
                <input type="number" id="new-area">
                <button type="submit">Обновить</button>
            </form>
        </section>

        <section id="delete-info" style="display:none;">
            <h2>Удалить помещение</h2>
            <form id="delete-form">
                <label for="delete-id">ID:</label>
                <input type="number" id="delete-id" required>
                <button type="submit">Удалить</button>
            </form>
        </section>

        <section id="search-info" style="display:none;">
            <h2>Поиск помещений</h2>
            <form id="search-form">
                <label for="search-query">Критерии:</label>
                <input type="text" id="search-query">
                <button type="submit">Найти</button>
            </form>
            <div id="search-results"></div>
        </section>
    </main>

    <footer>
        <p>&copy; 2024 Информационная система</p>
    </footer>

    <script>
        // Model
        class PropertyModel {
            constructor() {
                this.key = 'properties';
                this.properties = [];
                this.load();
            }

            load() {
                const data = localStorage.getItem(this.key);
                this.properties = data ? JSON.parse(data) : [];
            }

            save() {
                localStorage.setItem(this.key, JSON.stringify(this.properties));
            }
 restore() {
            const storedData = localStorage.getItem(this.key);
            if (storedData) {
                this.data = JSON.parse(storedData);
            } else {
                // Начальный набор данных, если localStorage пуст
                this.data = [
                     { id: '1', description: 'Описание объекта 1', createdAt: new Date('2024-01-01'), author: 'Иван Иванов', photoLink: 'https://example.com/photo1.jpg' },
  { id: '2', description: 'Описание объекта 2', createdAt: new Date('2024-01-02'), author: 'Петр Петров', photoLink: 'https://example.com/photo2.jpg' },
  { id: '3', description: 'Описание объекта 3', createdAt: new Date('2024-01-03'), author: 'Анна Смирнова' },
  { id: '4', description: 'Описание объекта 4', createdAt: new Date('2024-01-04'), author: 'Иван Иванов' },
  { id: '5', description: 'Описание объекта 5', createdAt: new Date('2024-01-05'), author: 'Мария Сидорова', photoLink: 'https://example.com/photo5.jpg' },
  { id: '6', description: 'Описание объекта 6', createdAt: new Date('2024-01-06'), author: 'Дмитрий Васильев' },
  { id: '7', description: 'Описание объекта 7', createdAt: new Date('2024-01-07'), author: 'Сергей Кузнецов' },
  { id: '8', description: 'Описание объекта 8', createdAt: new Date('2024-01-08'), author: 'Анна Смирнова' },
  { id: '9', description: 'Описание объекта 9', createdAt: new Date('2024-01-09'), author: 'Иван Иванов' },
  { id: '10', description: 'Описание объекта 10', createdAt: new Date('2024-01-10'), author: 'Ольга Николаева', photoLink: 'https://example.com/photo10.jpg' },
  { id: '11', description: 'Описание объекта 11', createdAt: new Date('2024-01-11'), author: 'Мария Сидорова' },
  { id: '12', description: 'Описание объекта 12', createdAt: new Date('2024-01-12'), author: 'Сергей Кузнецов' },
  { id: '13', description: 'Описание объекта 13', createdAt: new Date('2024-01-13'), author: 'Дмитрий Васильев' },
  { id: '14', description: 'Описание объекта 14', createdAt: new Date('2024-01-14'), author: 'Анна Смирнова' },
  { id: '15', description: 'Описание объекта 15', createdAt: new Date('2024-01-15'), author: 'Иван Иванов' },
  { id: '16', description: 'Описание объекта 16', createdAt: new Date('2024-01-16'), author: 'Ольга Николаева' },
  { id: '17', description: 'Описание объекта 17', createdAt: new Date('2024-01-17'), author: 'Сергей Кузнецов' },
  { id: '18', description: 'Описание объекта 18', createdAt: new Date('2024-01-18'), author: 'Дмитрий Васильев', photoLink: 'https://example.com/photo18.jpg' },
  { id: '19', description: 'Описание объекта 19', createdAt: new Date('2024-01-19'), author: 'Мария Сидорова' },
  { id: '20', description: 'Описание объекта 20', createdAt: new Date('2024-01-20'), author: 'Иван Иванов', photoLink: 'https://example.com/photo20.jpg' },
                ];
                this.save();
            }}
            add(property) {
                this.properties.push(property);
                this.save();
            }

            update(id, updates) {
                const prop = this.properties.find(p => p.id === id);
                if (prop) Object.assign(prop, updates);
                this.save();
            }

            delete(id) {
                this.properties = this.properties.filter(p => p.id !== id);
                this.save();
            }

            search(query) {
                const term = query.toLowerCase();
                return this.properties.filter(p => 
                    p.title.toLowerCase().includes(term));
            }
        }

        // View
        class PropertyView {
            static toggleSection(sectionId) {
                document.querySelectorAll('main > section').forEach(section => {
                    section.style.display = section.id === sectionId ? 'block' : 'none';
                });
            }

            static renderSearchResults(results) {
                const container = document.getElementById('search-results');
                container.innerHTML = results.length
                    ? results.map(r => `<p>${r.title}</p>`).join('')
                    : 'No results!';
            }
        }

        // Controller
        class PropertyController {
            constructor() {
                this.model = new PropertyModel();
                this.bindEvents();
            }

            bindEvents() {
                // Add
                document.getElementById('add-form').addEventListener('submit', e => {
                    e.preventDefault();
                });
            }
        }
    </script>
</body>
</html>
